# Problem 1280: Students and Examinations
![Easy](https://img.shields.io/badge/Level-Easy-brightgreen?style=for-the-badge) [![Problem Link](https://img.shields.io/badge/LeetCode-Link-orange?style=for-the-badge&logo=leetcode)](https://leetcode.com/problems/students-and-examinations/description/)

```sql
SELECT
    -- 4. Select the student details, subject name, and the count of attended exams.
    T1.student_id,
    T1.student_name,
    T1.subject_name,
    -- 3. Use COALESCE to replace NULL counts (for not attended exams) with 0.
    COALESCE(T2.attended_exams, 0) AS attended_exams
FROM
    -- 1. Create a cross-product of all students and all subjects to ensure every combination is listed.
    (
        SELECT
            S.student_id,
            S.student_name,
            Sub.subject_name
        FROM
            Students S
        CROSS JOIN
            Subjects Sub
    ) AS T1
LEFT JOIN
    -- 2. Aggregate the counts from the Examinations table.
    (
        SELECT
            student_id,
            subject_name,
            COUNT(*) AS attended_exams
        FROM
            Examinations
        GROUP BY
            student_id,
            subject_name
    ) AS T2
ON
    T1.student_id = T2.student_id
    AND T1.subject_name = T2.subject_name
ORDER BY
    T1.student_id,
    T1.subject_name;
```
---
## üßê Query Explanation


* **Step 1 (T1 ‚Äì CROSS JOIN Students √ó Subjects)**

  * Generates **every possible combination** of `student_id` and `subject_name`.
  * Ensures you list a row even if the student never attended an exam in that subject.

* **Step 2 (T2 ‚Äì aggregate exam counts)**

  * For each student & subject, counts **how many exams they attended**.

* **Step 3 (LEFT JOIN + COALESCE)**

  * Joins T1 with T2.
  * If a student has **no matching exam record**, `attended_exams` will be NULL ‚Üí replaced with **0** via `COALESCE`.

* **Final SELECT**

  * Returns **student info, subject name, and attended exam count** (including 0).
  * Sorted by student, then subject.

