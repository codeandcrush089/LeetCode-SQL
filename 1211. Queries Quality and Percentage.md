# Problem 1211: Queries Quality and Percentage
![Easy](https://img.shields.io/badge/Level-Easy-brightgreen)

```sql
SELECT
    query_name,

    -- 1. Calculate Query Quality: Average of (rating / position)
    ROUND(
        AVG(CAST(rating AS DECIMAL) / position)
    , 2) AS quality,

    -- 2. Calculate Poor Query Percentage: (Count of poor queries / Total count) * 100
    ROUND(
        (SUM(CASE
            WHEN rating < 3 THEN 1.0  -- Count of poor queries (rating < 3)
            ELSE 0.0
        END) * 100) / COUNT(query_name)
    , 2) AS poor_query_percentage
FROM
    Queries
GROUP BY
    query_name;
```
---
## ðŸ§ Query Explanation


* **`ROUND(AVG(rating / position), 2) AS quality`**
  â†’ For each query name, computes the **average of (rating Ã· position)**.
  â†’ This gives the **query quality score**.

* **`SUM(rating < 3)`**
  â†’ Counts how many times the query was **rated below 3** â†’ considered *poor*.

* **`(poor_count * 100) / total_count`**
  â†’ Calculates the **percentage of poor queries** for each query name.
  â†’ Rounded to 2 decimals as `poor_query_percentage`.

* **`GROUP BY query_name`**
  â†’ Computes both metrics **per query name**.
