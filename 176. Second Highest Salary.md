# Problem 176: Second Highest Salary
![Medium](https://img.shields.io/badge/Level-Medium-yellow)

```sql
SELECT
    -- Use IFNULL or COALESCE to return NULL if the subquery yields an empty result set.
    IFNULL(
        (SELECT DISTINCT
            salary
        FROM
            Employee
        ORDER BY
            salary DESC
        LIMIT 1 OFFSET 1), -- LIMIT 1 gets the single result, OFFSET 1 skips the first (highest) result.
        NULL
    ) AS SecondHighestSalary;
```
---
## üßê Query Explanation

### **1. Inner Subquery**

```sql
SELECT DISTINCT salary
FROM Employee
ORDER BY salary DESC
LIMIT 1 OFFSET 1
```

* `DISTINCT salary` ‚Üí removes duplicate salary values.
* `ORDER BY salary DESC` ‚Üí sorts salaries from **highest to lowest**.
* `LIMIT 1 OFFSET 1` ‚Üí

  * `OFFSET 1` skips the **highest** salary.
  * `LIMIT 1` returns the **next** one ‚Üí the *second highest salary*.



### **2. IFNULL(...)**

```sql
IFNULL(subquery_result, NULL)
```

* If the subquery returns a salary ‚Üí show it.
* If no second-highest exists (e.g., only one salary in the table) ‚Üí return **NULL**.


### **3. Final Output**

```sql
AS SecondHighestSalary
```

Labels the output column.

