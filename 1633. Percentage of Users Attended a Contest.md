# Problems 1633: Percentage of Users Attended a Contest
![Easy](https://img.shields.io/badge/Level-Easy-brightgreen?style=for-the-badge) [![Problem Link](https://img.shields.io/badge/LeetCode-Link-orange?style=for-the-badge&logo=leetcode)](https://leetcode.com/problems/percentage-of-users-attended-a-contest/description/)

```sql
SELECT
    -- Select the contest ID
    R.contest_id,
    -- Calculate the percentage: 
    -- 1. Count the number of distinct users registered in the contest (as a float).
    -- 2. Divide by the total number of distinct users (U_count).
    -- 3. Multiply by 100.
    -- 4. Round the result to two decimal places.
    ROUND(
        (COUNT(DISTINCT R.user_id) * 100.0) / U.total_users, 
        2
    ) AS percentage
FROM 
    Register AS R,
    -- Subquery to find the total number of distinct users.
    (
        SELECT COUNT(user_id) AS total_users
        FROM Users
    ) AS U
GROUP BY 
    R.contest_id, U.total_users
ORDER BY 
    -- Order by percentage in descending order
    percentage DESC,
    -- In case of a tie, order by contest_id in ascending order
    R.contest_id ASC;
```

## üßê Query Explanation
* `R.contest_id` ‚Üí Shows each contest ID.
* `COUNT(DISTINCT R.user_id)` ‚Üí Counts **unique users registered** in each contest.
* `U.total_users` ‚Üí Total number of users in the **Users** table (from subquery).
* `(COUNT(...) * 100.0) / U.total_users` ‚Üí Calculates **registration percentage**.
* `ROUND(..., 2)` ‚Üí Rounds percentage to **2 decimal places**.
* `GROUP BY R.contest_id, U.total_users` ‚Üí Groups data **per contest**.
* `ORDER BY percentage DESC, R.contest_id ASC` ‚Üí Sorts by **highest percentage first**, then by **contest ID**.


